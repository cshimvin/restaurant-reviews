{% extends "base.html" %}

{% block content %}

<div class="page-content p-4 mt-4 container">
    <div class="row">
        <h1>{{ category_name }}</h1>
    </div>
    <hr class="w-100">
    <section>
        {% if restaurants|length > 0 %}
            <div class="page-content p-4 mt-4">
                <div class="row">
                    <h2>Restaurants</h2>
                </div>
                <div class="row">
                    {% for restaurant in restaurants %}
                        <div class="col mt-2">
                            <div class="card h-100">
                                <img src="{{ restaurant.image_url }}" alt="{{ restaurant.name }}">
                                <div class="card-body">
                                    <h5 class="card-title">{{ restaurant.name }}</h5>
                                    <p class="card-text">{{ restaurant.description }}</p>
                                </div>
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item"><strong>Website: </strong><a href="{{ restaurant.url }}" target="_blank">View website</a></li>
                                    <li class="list-group-item"><strong>Cuisine: </strong>{{ restaurant.type }}</li>
                                    <li class="list-group-item">
                                        <strong>Address:</strong><br>
                                        {{ restaurant.address }}<br>
                                        {{ restaurant.town }}<br>
                                        {{ restaurant.county }}<br>
                                        {{ restaurant.postcode }}
                                    </li>
                                </ul>
                                <p class="mt-4"><a href="{{ url_for('edit_restaurant', restaurant_id=restaurant._id) }}" class="btn btn-primary btn-sm">Edit <i class="fa-solid fa-pencil"></i></a>
                                <a href="#" class="btn btn-danger btn-sm">Delete <i class="fa-solid fa-trash"></i></a></p>
                                <p><a href="{{ url_for('display_restaurant', restaurant_id=restaurant._id) }}" class="btn btn-primary btn-sm">View reviews <i class="fa-solid fa-eye"></i></a>
                                <a href="{{ url_for('add_review', restaurant_id=restaurant._id) }}" class="btn btn-primary btn-sm">Write a review <i class="fa-solid fa-pencil"></i></a></p>
                            </div>
                        </div>
                    {% endfor %}
                </div>
                {% else %}
                <h2></h2>No results found</h2>
            {% endif %}
    </section>
</div>

{% endblock %}
